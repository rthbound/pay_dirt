{"name":"PayDirt","tagline":"Reduce towering codebases to modular rubble (or more Ruby gems)","body":"## pay_dirt\r\n\r\n[![Gem Version](https://badge.fury.io/rb/pay_dirt.png)](http://badge.fury.io/rb/pay_dirt) [![Build Status](https://travis-ci.org/rthbound/pay_dirt.png?branch=master)](https://travis-ci.org/rthbound/pay_dirt) [![Coverage Status](https://coveralls.io/repos/rthbound/pay_dirt/badge.png?branch=master)](https://coveralls.io/r/rthbound/pay_dirt?branch=master) [![Code Climate](https://codeclimate.com/github/rthbound/pay_dirt.png)](https://codeclimate.com/github/rthbound/pay_dirt)\r\n\r\n#### A Ruby gem based on the \"use case\" pattern set forth in [opencurriculum-flashcards](https://github.com/isotope11/opencurriculum-flashcards)\r\n\r\nProvides the basic building blocks of a pattern capable of reducing a towering codebase to modular rubble (or more Ruby gems)\r\n\r\nThere are two ways to employ the pattern: \r\n\r\n1. use a class that inherits from [PayDirt::Base](https://github.com/rthbound/pay_dirt/blob/master/test/unit/pay_dirt/base_test.rb#L6-L24)\r\n2. use a class or module that includes [PayDirt::UseCase](https://github.com/rthbound/pay_dirt/blob/master/test/unit/pay_dirt/use_case_test.rb#L6-L26)\r\n\r\n### Sample PayDirt use case\r\nExample class:\r\n```ruby\r\nclass UseCase\r\n  include PayDirt::UseCase\r\n\r\n  def initialize(options)\r\n    options = {\r\n      required_option_with_default_value: true\r\n    }.merge(options)\r\n\r\n    load_options(:required_option_with_default_value, :required_option, options)\r\n  end\r\n\r\n  def execute!\r\n    if !@required_option_with_default_value\r\n      return PayDirt::Result.new(data: return_value, success: true)\r\n    else\r\n      return PayDirt::Result.new(data: return_value, success: false)\r\n    end\r\n  end\r\n\r\n  private\r\n  def return_value\r\n    {\r\n      optional_option:  @optional_option,\r\n      required_option1: @required_option_with_default_value,\r\n      required_option2: @required_option\r\n    }\r\n  end\r\nend\r\n```\r\n\r\nExample class usage:\r\n\r\n```ruby\r\n# Cheating by not injecting all dependencies\r\nresult = SomeThing.new(required_option: true).execute! # Returns a PayDirt::Result\r\n!result.successful?                                    #=> false\r\nresult.data[:optional_option]                          #=> nil\r\n\r\n# Playing nice and injecting all required dependencies\r\nresult = SomeThing.new(required_option: true, required_option_with_default_value: false).execute!\r\nresult.successful?                                     #=> true\r\nresult.data[:optional_option]                          #=> nil\r\n\r\n# Making use of an optional option\r\nresult = SomeThing.new(required_option: true, optional_option: true).execute!\r\n!result.successful?                                    #=> false\r\nresult.data[:optional_option]                          #=> true\r\n```\r\n\r\n### Other examples\r\n1. [rubeuler](https://github.com/rthbound/rubeuler)\r\n2. [protected_record](https://github.com/rthbound/protected_record)\r\n3. [konamio](https://github.com/rthbound/konamio)\r\n4. [eenie_meenie](https://github.com/rthbound/eenie_meenie)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}